(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2199],{5271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var a=r(5155),s=r(2115),l=r(7550),o=r(2657),n=r(4229),i=r(4416),c=r(7213),d=r(1007),m=r(9074),u=r(4186),x=r(3500),p=r(8440),g=r(2705),b=r(2406),h=r(9727),y=r(9144),f=r(9621),j=r(5968),v=r(9140),N=r(224),w=r(8164),k=r(7712),S=r(3654),C=r(8932);function A(e){let{content:t,onChange:r}=e,l=(0,s.useRef)(null),[o,n]=(0,s.useState)(!1),[i,d]=(0,s.useState)({}),[m,u]=(0,s.useState)({}),A=(0,s.useCallback)((e,t)=>{if("undefined"==typeof document||!l.current)return!1;try{if(t)return document.queryCommandValue(e)===t;return document.queryCommandState(e)}catch(e){return!1}},[]),L=(0,s.useCallback)(e=>{if("undefined"==typeof document||!l.current)return!1;try{return document.queryCommandEnabled(e)}catch(e){return!1}},[]),B=(0,s.useCallback)(()=>{if("undefined"==typeof document||!l.current)return;let e={},t={};e["formatBlock-p"]=A("formatBlock","p"),e["formatBlock-h1"]=A("formatBlock","h1"),e["formatBlock-h2"]=A("formatBlock","h2"),e["formatBlock-h3"]=A("formatBlock","h3"),e.blockquote=A("formatBlock","blockquote"),e.bold=A("bold"),e.italic=A("italic"),e.insertUnorderedList=A("insertUnorderedList"),e.insertOrderedList=A("insertOrderedList"),t.undo=L("undo"),t.redo=L("redo"),d(e),u(t)},[A,L]),K=(0,s.useCallback)((e,t)=>{if(l.current)try{l.current.focus(),document.execCommand(e,!1,t);let a=l.current.innerHTML;r(q(a)),B()}catch(e){console.error("Error executing command:",e)}},[r,B]),q=e=>e.replace(/<p><br><\/p>/g,"<p></p>").replace(/<p>\s*<\/p>/g,"").replace(/<div><br><\/div>/g,"").replace(/<div>\s*<\/div>/g,"").replace(/<br\s*\/?>/g,"<br>").trim(),E=(0,s.useCallback)(()=>{l.current&&(r(q(l.current.innerHTML)),B())},[r,B]);(0,s.useEffect)(()=>{l.current&&!o&&l.current.innerHTML!==t&&(l.current.innerHTML=t||""),B()},[t,o,B]);let _=(0,s.useCallback)(e=>{e.preventDefault();let t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t),B()},[B]),H=(0,s.useCallback)(e=>{if("Enter"===e.key&&!e.shiftKey){let t=window.getSelection();if(t&&t.rangeCount>0){let r=t.getRangeAt(0).commonAncestorContainer.parentElement;r&&/^H[1-6]$/.test(r.tagName)&&(e.preventDefault(),K("formatBlock","p"),K("insertHTML","<br>"))}}},[K]),T=[{icon:x.A,label:"Paragraph",action:()=>K("formatBlock","p"),commandKey:"formatBlock-p"},{icon:p.A,label:"Heading 1",action:()=>K("formatBlock","h1"),commandKey:"formatBlock-h1"},{icon:g.A,label:"Heading 2",action:()=>K("formatBlock","h2"),commandKey:"formatBlock-h2"},{icon:b.A,label:"Heading 3",action:()=>K("formatBlock","h3"),commandKey:"formatBlock-h3"},{type:"divider"},{icon:h.A,label:"Bold",action:()=>K("bold"),commandKey:"bold"},{icon:y.A,label:"Italic",action:()=>K("italic"),commandKey:"italic"},{icon:f.A,label:"Code",action:()=>{let e=window.getSelection();e&&e.toString()&&K("insertHTML","<code>".concat(e.toString(),"</code>"))},commandKey:"code"},{type:"divider"},{icon:j.A,label:"Bullet List",action:()=>K("insertUnorderedList"),commandKey:"insertUnorderedList"},{icon:v.A,label:"Ordered List",action:()=>K("insertOrderedList"),commandKey:"insertOrderedList"},{type:"divider"},{icon:N.A,label:"Blockquote",action:()=>K("formatBlock","blockquote"),commandKey:"blockquote"},{icon:w.A,label:"Link",action:()=>{let e=window.getSelection();if(!e||""===e.toString().trim())return void alert("Please select some text first");let t=window.prompt("Enter URL:");t&&K("createLink",t)},commandKey:"createLink"},{icon:c.A,label:"Image",action:()=>{let e=window.prompt("Enter image URL:");e&&K("insertHTML",'<p><img src="'.concat(e,'" alt="Image" style="max-width: 100%; height: auto; border-radius: 8px; margin: 16px 0;"></p>'))},commandKey:"image"},{icon:k.A,label:"Horizontal Rule",action:()=>K("insertHTML",'<hr style="margin: 24px 0; border: none; border-top: 1px solid #e5e7eb;">'),commandKey:"horizontalRule"},{type:"divider"},{icon:S.A,label:"Undo",action:()=>K("undo"),commandKey:"undo",disabledKey:"undo"},{icon:C.A,label:"Redo",action:()=>K("redo"),commandKey:"redo",disabledKey:"redo"}];return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[(0,a.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 p-3",children:(0,a.jsx)("div",{className:"flex items-center gap-1 flex-wrap",children:T.map((e,t)=>{if("divider"===e.type)return(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"},t);let r=e.icon;if(!r)return null;let s=!!e.commandKey&&i[e.commandKey],l=!!e.disabledKey&&!m[e.disabledKey];return(0,a.jsx)("button",{type:"button",onClick:e.action,disabled:l,className:"p-2 rounded transition-colors ".concat(s?"bg-blue-100 text-blue-700 hover:bg-blue-200":"hover:bg-gray-100 text-gray-600 hover:text-gray-900"," ").concat(l?"opacity-50 cursor-not-allowed":"cursor-pointer"),title:e.label,children:(0,a.jsx)(r,{className:"w-4 h-4"})},t)})})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{ref:l,contentEditable:!0,suppressContentEditableWarning:!0,onInput:E,onPaste:_,onKeyDown:H,onFocus:()=>{n(!0),B()},onBlur:()=>{n(!1),B()},className:"w-full min-h-[400px] p-6 focus:outline-none text-base leading-relaxed prose prose-lg max-w-none prose-headings:font-semibold prose-headings:text-gray-900 prose-headings:leading-tight prose-p:text-gray-700 prose-p:leading-relaxed prose-p:mb-6 prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline prose-strong:font-semibold prose-strong:text-gray-900 prose-ul:my-6 prose-ol:my-6 prose-li:my-2 prose-blockquote:border-l-4 prose-blockquote:border-blue-200 prose-blockquote:pl-6 prose-blockquote:my-6 prose-blockquote:italic prose-blockquote:text-gray-600 prose-code:bg-gray-100 prose-code:px-2 prose-code:py-1 prose-code:rounded prose-code:text-sm prose-code:font-mono [&_h1]:text-3xl [&_h2]:text-2xl [&_h3]:text-xl [&_hr]:my-8 [&_hr]:border-gray-200 [&_img]:w-full [&_img]:h-auto [&_img]:rounded-lg [&_img]:my-6",style:{minHeight:"400px"}}),!t&&(0,a.jsx)("div",{className:"absolute top-6 left-6 text-gray-400 pointer-events-none select-none",children:"Start writing your article..."})]})]})}function L(){let[e,t]=(0,s.useState)(""),[r,x]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[b,h]=(0,s.useState)(""),[y,f]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[N,w]=(0,s.useState)(0),[k,S]=(0,s.useState)(null),[C,L]=(0,s.useState)(""),[B,K]=(0,s.useState)(!1),[q,E]=(0,s.useState)(!1),_=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),H=async a=>{a.preventDefault(),E(!0);try{let a=new FormData;a.append("title",e),a.append("slug",r),a.append("summary",p),a.append("content",b),a.append("author",y),a.append("tags",j),a.append("readTime",N.toString()),k&&a.append("cover",k),console.log("Publishing blog post:",{title:e,slug:r,summary:p,content:b,author:y,tags:j.split(",").map(e=>e.trim()),readTime:N,cover:k?k.name:null,publishedAt:new Date().toISOString()}),await new Promise(e=>setTimeout(e,1500)),alert("Blog post published successfully!"),t(""),x(""),g(""),h(""),f(""),v(""),S(null),L(""),K(!1)}catch(e){console.error("Error creating blog post:",e),alert("Something went wrong while publishing the blog post.")}finally{E(!1)}},T=b.replace(/<[^>]*>/g,"").split(" ").filter(e=>e.length>0).length;return(0,s.useEffect)(()=>{w(Math.max(1,Math.ceil(T/200)))},[T]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>window.history.back(),className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,a.jsx)(l.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"hidden lg:block",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Create Article"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Write and publish your story"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>K(!B),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(B?"bg-blue-100 text-blue-700 hover:bg-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),B?"Edit":"Preview"]}),(0,a.jsx)("button",{type:"submit",form:"blog-form",disabled:q||!e.trim(),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Publishing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),"Publish"]})})]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-3",children:B?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:(0,a.jsxs)("article",{className:"max-w-4xl",children:[(0,a.jsxs)("header",{className:"mb-12",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 leading-tight mb-6",children:e||"Your article title will appear here"}),p&&(0,a.jsx)("p",{className:"text-xl text-gray-600 leading-relaxed mb-8",children:p}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-sm text-gray-500 mb-8 pb-8 border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:y||"Anonymous"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(new Date().toISOString()).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[N," min read"]})]})]}),j&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-8",children:j.split(",").map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-full font-medium",children:e.trim()},t))})]}),C&&(0,a.jsx)("div",{className:"relative overflow-hidden rounded-xl mb-12",children:(0,a.jsx)("img",{src:C,alt:e,className:"w-full h-auto max-h-96 object-cover"})}),(0,a.jsx)("div",{className:"prose prose-lg max-w-none prose-headings:font-semibold prose-headings:text-gray-900 prose-p:text-gray-700 prose-a:text-blue-600 prose-strong:text-gray-900 prose-blockquote:border-blue-200 prose-blockquote:bg-blue-50 prose-blockquote:py-4",children:b?(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:b}}):(0,a.jsx)("p",{className:"text-gray-400 italic",children:"Your content will appear here..."})})]})}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("form",{id:"blog-form",onSubmit:H,className:"p-8 space-y-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{value:e,onChange:e=>{let r=e.target.value;t(r),x(_(r))},placeholder:"Enter your article title...",required:!0,className:"w-full text-3xl md:text-4xl font-bold placeholder-gray-400 border-none focus:outline-none p-0 bg-transparent text-gray-900 leading-tight"})}),(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{value:p,onChange:e=>g(e.target.value),placeholder:"Write a compelling summary that will hook your readers...",rows:3,className:"w-full text-lg text-gray-600 placeholder-gray-400 border-none focus:outline-none p-0 resize-none bg-transparent leading-relaxed"})}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-8 flex flex-col items-center justify-center ",children:[(0,a.jsx)("label",{className:"block text-start text-sm font-semibold text-gray-900 mb-4",children:"Cover Image"}),(0,a.jsxs)("div",{className:"relative border-2 w-fit h-fit flex border-dashed border-gray-200 rounded-xl p-8 text-center bg-gray-50 hover:border-gray-300 transition-colors",children:[C?(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("img",{src:C,alt:"Cover preview",className:"w-full h-full object-cover rounded-lg"}),(0,a.jsx)("button",{type:"button",onClick:()=>{S(null),L("")},className:"absolute top-3 z-30 right-3 p-2 bg-white shadow-md rounded-full hover:bg-gray-100 transition-colors",children:(0,a.jsx)(i.A,{className:"w-4 h-4 text-gray-600 cursor-pointer"})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(c.A,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-2 font-medium",children:"Upload a cover image"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB. Recommended: 1200\xd7630px"})]}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let r=(null==(t=e.target.files)?void 0:t[0])||null;if(S(r),r){let e=new FileReader;e.onload=e=>{var t;L(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(r)}else L("")},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-8",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-4",children:"Article Content"}),(0,a.jsx)(A,{content:b,onChange:h})]})]})})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Slug"}),(0,a.jsx)("input",{value:r,onChange:e=>x(e.target.value),placeholder:"url-friendly-slug",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author"}),(0,a.jsx)("input",{value:y,onChange:e=>f(e.target.value),placeholder:"Author name",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,a.jsx)("input",{value:j,onChange:e=>v(e.target.value),placeholder:"technology, design, business",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate with commas"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Article Stats"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Words"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:T.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Characters"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:b.length.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Read time"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:[N," min"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Status"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-medium",children:"Draft"})]})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Writing Tips"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-2",children:[(0,a.jsx)("li",{children:"• Keep your title under 60 characters for better SEO"}),(0,a.jsx)("li",{children:"• Write a compelling summary to hook readers"}),(0,a.jsx)("li",{children:"• Use headings to structure your content"}),(0,a.jsx)("li",{children:"• Include relevant images to break up text"})]})]})]})]})})]})}},7053:(e,t,r)=>{Promise.resolve().then(r.bind(r,5271))}},e=>{var t=t=>e(e.s=t);e.O(0,[9803,8441,1684,7358],()=>t(7053)),_N_E=e.O()}]);